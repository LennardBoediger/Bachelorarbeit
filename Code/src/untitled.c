    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    used_gain.$ = 0;
    for (int i = 1; i <= GAIN_POSSIBILITIES; ++i){
        if (AS7265X_measurement[0].$ < AS7265X_measurement[i].$ && AS7265X_measurement[i].$ < 65500){
            AS7265X_measurement[0].$ = AS7265X_measurement[i].$;
            used_gain.$ = i;
        }
    }
    AS7265X_measurement[0].$ = matchValueToMaxGain(used_gain.$ , AS7265X_measurement[0].$);

    return used_gain;